
ILOAD   3, 0x00010008, 8  
ILOAD   0, 0x00010028, 8
ILOAD   1, 0x00010030, 8
ILOAD   2, 0x00010038, 8
ILOAD   7, 0x00010018, 8
ISTORE  7, 0x00010048, 8


LOOP_I:
ILOAD   4, 0x00010048, 8
CMP     4, 3
JE      DONE_MATMUL

ISTORE  7, 0x00010050, 8


LOOP_J:
ILOAD   5, 0x00010050, 8  
CMP     5, 3
JE      INC_I

ISTORE  7, 0x00010040, 8
ISTORE  7, 0x00010058, 8   


LOOP_K:
ILOAD   6, 0x00010058, 8    
CMP     6, 3
JE      STORE_C


ILOAD   7, 0x00010048, 8
MUL     7, 7, 3
ADD     7, 6
LSHIFT  7, 3, 0
ADD     7, 0
ILOAD   7, 7, 8


MUL     6, 6, 3
ILOAD   5, 0x00010050, 8
ADD     6, 5
LSHIFT  6, 3, 0
ADD     6, 1
ILOAD   6, 6, 8


MUL     7, 7, 6     
ILOAD   5, 0x00010040, 8
ADD     5, 6
ISTORE  5, 0x00010040, 8


ILOAD   5, 0x00010010, 8
ILOAD   6, 0x00010058, 8
ADD     6, 5
ISTORE  6, 0x00010058, 8
JMP     LOOP_K


STORE_C:
ILOAD   6, 0x00010048, 8
MUL     6, 6, 3
ILOAD   5, 0x00010050, 8
ADD     6, 5
LSHIFT  6, 3, 0
ADD     6, 2
ILOAD   5, 0x00010040, 8
ISTORE  5, 6, 8


ILOAD   5, 0x00010010, 8
ILOAD   6, 0x00010050, 8
ADD     6, 5
ISTORE  6, 0x00010050, 8
JMP     LOOP_J


INC_I:
ILOAD   5, 0x00010010, 8
ILOAD   4, 0x00010048, 8
ADD     4, 5
ISTORE  4, 0x00010048, 8
JMP     LOOP_I

DONE_MATMUL:
HLT
